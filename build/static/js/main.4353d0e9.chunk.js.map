{"version":3,"sources":["components/FilterPerson.js","components/AddPerson.js","components/Person.js","services/persons.js","App.js","index.js"],"names":["FilterPerson","handleQuery","newQuery","type","name","value","onChange","AddPerson","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","Person","person","delPerson","number","onClick","id","baseUrl","axios","get","then","response","data","personObject","post","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","setNewQuery","errorMessage","setErrorMessage","message","setMessage","useEffect","personService","ErrorNotification","className","SuccessNotification","filteredPersons","filter","item","toLowerCase","includes","toString","window","confirm","setTimeout","n","catch","error","console","log","e","target","newquery","preventDefault","length","find","map","i","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4353d0e9.chunk.js","sourcesContent":["import React from 'react';\n\nconst FilterPerson = ({ handleQuery, newQuery }) => {\n  return (\n    <div>\n      filter shown with{' '}\n      <input type=\"text\" name=\"query\" value={newQuery} onChange={handleQuery} />\n    </div>\n  );\n};\nexport default FilterPerson;\n","import React from 'react';\n\nconst AddPerson = ({\n  addName,\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange,\n}) => {\n  return (\n    <div>\n      {' '}\n      <form onSubmit={addName}>\n        <h2>Add new</h2>\n        <div>\n          name:{' '}\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number:{' '}\n          <input\n            type=\"text\"\n            name=\"number\"\n            value={newNumber}\n            onChange={handleNumberChange}\n          />\n        </div>{' '}\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\nexport default AddPerson;\n","import React from 'react';\n\nconst Person = ({ person, delPerson }) => {\n  return (\n    <div>\n      <li>\n        {person.name} {person.number}{' '}\n        <button onClick={() => delPerson(person.id, person.name)}>\n          Delete\n        </button>\n      </li>\n    </div>\n  );\n};\nexport default Person;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst newPerson = (personObject) => {\n  const request = axios.post(baseUrl, personObject);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst modifyNumber = (id, personObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, personObject);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  newPerson,\n  deletePerson,\n  modifyNumber,\n};\n","import React, { useState, useEffect } from 'react';\nimport FilterPerson from './components/FilterPerson';\nimport AddPerson from './components/AddPerson';\nimport Person from './components/Person';\nimport personService from './services/persons';\n\nconst App = () => {\n  const initialState = '';\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(initialState);\n  const [newNumber, setNewNumber] = useState(initialState);\n  const [newQuery, setNewQuery] = useState(initialState);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((persons) => {\n      setPersons(persons);\n    });\n  }, []);\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const ErrorNotification = ({ message }) => {\n    if (message === null) {\n      return null;\n    }\n\n    return <div className=\"error\">{message}</div>;\n  };\n\n  const SuccessNotification = ({ message }) => {\n    if (message === null) {\n      return null;\n    }\n\n    return <div className=\"success\">{message}</div>;\n  };\n\n  const addName = (e) => {\n    e.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n    if (persons.filter((n) => n.name === newName).length === 0) {\n      personService\n        .newPerson(personObject)\n        .then((response) => {\n          setPersons([...persons, response]);\n        })\n        .catch((error) => console.log(error));\n      setMessage(`Added ${newName}`);\n      setTimeout(() => {\n        setMessage(null);\n      }, 5000);\n\n      setNewName(initialState);\n      setNewNumber(initialState);\n    } else {\n      let person = persons.find((person) => person.name === newName);\n      if (\n        window.confirm(\n          `${newName} is already in the phonebook. Do you want to replace the old number with a new one?`\n        )\n      ) {\n        personService\n          .modifyNumber(person.id, personObject)\n          .then((response) => {\n            setPersons(\n              persons.map((item) => (item.id !== person.id ? item : response))\n            );\n            setMessage(`Modified ${newName}`);\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            console.log(error);\n            setErrorMessage(\n              `the person ${person.name} was already deleted from server`\n            );\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 5000);\n            setPersons(persons.filter((n) => n.id !== person.id));\n          });\n      }\n    }\n    setNewName(initialState);\n    setNewNumber(initialState);\n  };\n\n  const handleQuery = (e) => {\n    setNewQuery(e.target.value);\n  };\n\n  const filteredPersons = persons.filter((item) =>\n    item.name.toLowerCase().includes(newQuery.toString())\n  );\n\n  const delPerson = (id, name) => {\n    if (\n      window.confirm(`Do you really want to delete ${name} from the phonebook?`)\n    ) {\n      personService\n        .deletePerson(id)\n        .then((response) => {\n          setMessage(`the person ${name} was deleted from server`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n          setPersons(persons.filter((n) => n.id !== id));\n        })\n        .catch((error) => {\n          console.log(error);\n          setErrorMessage(`the person ${name} was already deleted from server`);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n          setPersons(persons.filter((n) => n.id !== id));\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <ErrorNotification message={errorMessage} />\n      <SuccessNotification message={message} />\n      <FilterPerson handleQuery={handleQuery} newquery={newQuery} />\n      <AddPerson\n        addName={addName}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <ul>\n        {filteredPersons.map((person, i) => (\n          <Person key={i} person={person} delPerson={delPerson} />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}